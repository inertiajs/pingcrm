import{Z as V,i as z,r as i,o as a,c as f,a as s,b as t,e as n,f as d,t as c,h as _,j as g,w as v,F as k,g as U}from"./app-7e8772f8.js";import{I as C,L}from"./Layout-92bae8d8.js";import{L as N,T as S}from"./LoadingButton-04bf9715.js";import{S as T}from"./SelectInput-1f1e4b49.js";import{T as B}from"./TrashedMessage-b6544323.js";import{_ as A}from"./Logo-231b3ca1.js";const I={components:{Head:V,Icon:C,Link:z,LoadingButton:N,SelectInput:T,TextInput:S,TrashedMessage:B},layout:L,props:{organization:Object},remember:"form",data(){return{form:this.$inertia.form({name:this.organization.name,email:this.organization.email,phone:this.organization.phone,address:this.organization.address,city:this.organization.city,region:this.organization.region,country:this.organization.country,postal_code:this.organization.postal_code})}},methods:{update(){this.form.put(`/organizations/${this.organization.id}`)},destroy(){confirm("Are you sure you want to delete this organization?")&&this.$inertia.delete(`/organizations/${this.organization.id}`)},restore(){confirm("Are you sure you want to restore this organization?")&&this.$inertia.put(`/organizations/${this.organization.id}/restore`)}}},O={class:"mb-8 text-3xl font-bold"},P=t("span",{class:"text-indigo-400 font-medium"},"/",-1),E={class:"max-w-3xl bg-white rounded-md shadow overflow-hidden"},H={class:"flex flex-wrap -mb-8 -mr-6 p-8"},j=t("option",{value:null},null,-1),D=t("option",{value:"CA"},"Canada",-1),F=t("option",{value:"US"},"United States",-1),M={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"},R=t("h2",{class:"mt-12 text-2xl font-bold"},"Contacts",-1),Z={class:"mt-6 bg-white rounded shadow overflow-x-auto"},q={class:"w-full whitespace-nowrap"},G=t("tr",{class:"text-left font-bold"},[t("th",{class:"pb-4 pt-6 px-6"},"Name"),t("th",{class:"pb-4 pt-6 px-6"},"City"),t("th",{class:"pb-4 pt-6 px-6",colspan:"2"},"Phone")],-1),J={class:"border-t"},K={class:"border-t"},Q={class:"border-t"},W={class:"w-px border-t"},X={key:0},Y=t("td",{class:"px-6 py-4 border-t",colspan:"4"},"No contacts found.",-1),$=[Y];function ee(oe,r,p,te,o,m){const b=i("Head"),u=i("Link"),x=i("trashed-message"),l=i("text-input"),y=i("select-input"),w=i("loading-button"),h=i("icon");return a(),f("div",null,[s(b,{title:o.form.name},null,8,["title"]),t("h1",O,[s(u,{class:"text-indigo-400 hover:text-indigo-600",href:"/organizations"},{default:n(()=>[d("Organizations")]),_:1}),P,d(" "+c(o.form.name),1)]),p.organization.deleted_at?(a(),_(x,{key:0,class:"mb-6",onRestore:m.restore},{default:n(()=>[d(" This organization has been deleted. ")]),_:1},8,["onRestore"])):g("",!0),t("div",E,[t("form",{onSubmit:r[9]||(r[9]=v((...e)=>m.update&&m.update(...e),["prevent"]))},[t("div",H,[s(l,{modelValue:o.form.name,"onUpdate:modelValue":r[0]||(r[0]=e=>o.form.name=e),error:o.form.errors.name,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Name"},null,8,["modelValue","error"]),s(l,{modelValue:o.form.email,"onUpdate:modelValue":r[1]||(r[1]=e=>o.form.email=e),error:o.form.errors.email,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Email"},null,8,["modelValue","error"]),s(l,{modelValue:o.form.phone,"onUpdate:modelValue":r[2]||(r[2]=e=>o.form.phone=e),error:o.form.errors.phone,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Phone"},null,8,["modelValue","error"]),s(l,{modelValue:o.form.address,"onUpdate:modelValue":r[3]||(r[3]=e=>o.form.address=e),error:o.form.errors.address,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Address"},null,8,["modelValue","error"]),s(l,{modelValue:o.form.city,"onUpdate:modelValue":r[4]||(r[4]=e=>o.form.city=e),error:o.form.errors.city,class:"pb-8 pr-6 w-full lg:w-1/2",label:"City"},null,8,["modelValue","error"]),s(l,{modelValue:o.form.region,"onUpdate:modelValue":r[5]||(r[5]=e=>o.form.region=e),error:o.form.errors.region,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Province/State"},null,8,["modelValue","error"]),s(y,{modelValue:o.form.country,"onUpdate:modelValue":r[6]||(r[6]=e=>o.form.country=e),error:o.form.errors.country,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Country"},{default:n(()=>[j,D,F]),_:1},8,["modelValue","error"]),s(l,{modelValue:o.form.postal_code,"onUpdate:modelValue":r[7]||(r[7]=e=>o.form.postal_code=e),error:o.form.errors.postal_code,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Postal code"},null,8,["modelValue","error"])]),t("div",M,[p.organization.deleted_at?g("",!0):(a(),f("button",{key:0,class:"text-red-600 hover:underline",tabindex:"-1",type:"button",onClick:r[8]||(r[8]=(...e)=>m.destroy&&m.destroy(...e))},"Delete Organization")),s(w,{loading:o.form.processing,class:"btn-indigo ml-auto",type:"submit"},{default:n(()=>[d("Update Organization")]),_:1},8,["loading"])])],32)]),R,t("div",Z,[t("table",q,[G,(a(!0),f(k,null,U(p.organization.contacts,e=>(a(),f("tr",{key:e.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",J,[s(u,{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:`/contacts/${e.id}/edit`},{default:n(()=>[d(c(e.name)+" ",1),e.deleted_at?(a(),_(h,{key:0,name:"trash",class:"flex-shrink-0 ml-2 w-3 h-3 fill-gray-400"})):g("",!0)]),_:2},1032,["href"])]),t("td",K,[s(u,{class:"flex items-center px-6 py-4",href:`/contacts/${e.id}/edit`,tabindex:"-1"},{default:n(()=>[d(c(e.city),1)]),_:2},1032,["href"])]),t("td",Q,[s(u,{class:"flex items-center px-6 py-4",href:`/contacts/${e.id}/edit`,tabindex:"-1"},{default:n(()=>[d(c(e.phone),1)]),_:2},1032,["href"])]),t("td",W,[s(u,{class:"flex items-center px-4",href:`/contacts/${e.id}/edit`,tabindex:"-1"},{default:n(()=>[s(h,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400"})]),_:2},1032,["href"])])]))),128)),p.organization.contacts.length===0?(a(),f("tr",X,$)):g("",!0)])])])}const de=A(I,[["render",ee]]);export{de as default};
